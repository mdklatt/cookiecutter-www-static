## Travis CI configuration.
##
##   <https://travis-ci.org/mdklatt/cookiecutter-www-static>
##
language: node_js

branches:
  only:
    - master
    - dev

sudo: false

install:
  # Because this is a Node.js project Travis does not create a Python venv,
  # so pip needs to install Cookiecutter locally.
  - pyenv local 3.6.3
  - python -m pip install --requirement=requirements.txt --user
  - cookiecutter --no-input . && pushd www
  - npm install

before_script:
  - npm run-script typescript

script:
  - npm run-script test
